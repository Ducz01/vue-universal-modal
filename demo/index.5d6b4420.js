var e=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,t=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a,s=(e,s)=>{for(var n in s||(s={}))l.call(s,n)&&t(e,n,s[n]);if(o)for(var n of o(s))a.call(s,n)&&t(e,n,s[n]);return e};import{d as n,r as d,c as u,a as r,F as i,b as c,o as m,w as v,e as b,f as h,p,g as f,h as M,i as w,j as y,k as C,n as g,l as S,m as k,t as x,q as E,s as V,T as _,u as L,v as A,x as O,y as U,z as j,A as $,B as D,C as R}from"./vendor.979a7963.js";!function(e=".",l="__import__"){try{self[l]=new Function("u","return import(u)")}catch(o){const a=new URL(e,location),t=e=>{URL.revokeObjectURL(e.src),e.remove()};self[l]=e=>new Promise(((o,s)=>{const n=new URL(e,a);if(self[l].moduleMap[n])return o(self[l].moduleMap[n]);const d=new Blob([`import * as m from '${n}';`,`${l}.moduleMap['${n}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(d),onerror(){s(new Error(`Failed to import: ${e}`)),t(u)},onload(){o(self[l].moduleMap[n]),t(u)}});document.head.appendChild(u)})),self[l].moduleMap={}}}("/vue-universal-modal/demo/");const T={h3:"mt-6 mb-2 text-xl font-bold",ul:"mt-2 list-disc list-inside",button:"mt-2 rounded-full py-1 px-4 bg-white transition border-blue-500 border-2 text-blue-500 text-sm hover:border-blue-700 hover:text-blue-700 focus:bg-blue-700 focus:text-white focus:outline-none"};var B=n({setup(){const e=d(!1);return{isShow:e,showModal:function(){e.value=!0},closeModal:function(){e.value=!1},style:T}}});const K={class:"modal"},N=r("p",null," Hello ",-1);B.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 1. basic ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=(...l)=>e.showModal&&e.showModal(...l))}," Show modal ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/1.basic.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{modelValue:e.isShow,"onUpdate:modelValue":l[3]||(l[3]=l=>e.isShow=l),close:e.closeModal},{default:v((()=>[r("div",K,[N,r("button",{class:e.style.button,onClick:l[2]||(l[2]=(...l)=>e.closeModal&&e.closeModal(...l))}," close ",2)])])),_:1},8,["modelValue","close"])],64)};var F=n({setup(){const e=d(!1);return{isShow:e,showModal:function(){e.value=!0},closeModal:function(){e.value=!1},style:T}}});const I={class:"modal"},P=r("p",null," change v-show ",-1);F.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 2. change v-show (always mounted) ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=(...l)=>e.showModal&&e.showModal(...l))}," Show modal ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/2.visible.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{"model-value":!0,close:e.closeModal,disabled:!e.isShow},{default:v((()=>[r("div",I,[P,r("button",{class:e.style.button,onClick:l[2]||(l[2]=(...l)=>e.closeModal&&e.closeModal(...l))}," close ",2)])])),_:1},8,["close","disabled"])],64)};var H=n({setup(){const e=b({modal1:!1,modal2:!1});return{isShowModal:e,options:{transition:!1,closeClickDimmed:!1,closeKeyCode:!1,styleModalContent:{justifyContent:"flex-start"}},showModal:function(l){e[l]=!0},closeModal:function(l){e[l]=!1},style:T}}});const q=r("li",null,"transition: false",-1),z=r("li",null,"closeClickDimmed: false",-1),G=r("li",null,"closeKeyCode: false",-1),J=r("li",null,"styleModalContent: { justifyContent: 'flex-start' }",-1),Q={class:"modal"},W=r("p",null," modal1 ",-1),X={class:"modal"},Y=r("p",null," modal2 ",-1);H.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 3. options ",2),r("ul",{class:e.style.ul},[q,z,G,J],2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=l=>e.showModal("modal1"))}," Show modal ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/3.options.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{modelValue:e.isShowModal.modal1,"onUpdate:modelValue":l[4]||(l[4]=l=>e.isShowModal.modal1=l),close:()=>e.closeModal("modal1"),options:e.options,style:{backgroundColor:"rgba(59, 130, 246, 0.3)"}},{default:v((()=>[r("div",Q,[W,r("button",{class:[e.style.button,"mr-2"],onClick:l[2]||(l[2]=l=>e.showModal("modal2"))}," open modal2 ",2),r("button",{class:e.style.button,onClick:l[3]||(l[3]=()=>e.closeModal("modal1"))}," close ",2)])])),_:1},8,["modelValue","close","options","style"]),r(n,{modelValue:e.isShowModal.modal2,"onUpdate:modelValue":l[6]||(l[6]=l=>e.isShowModal.modal2=l),close:()=>e.closeModal("modal2"),options:e.options},{default:v((()=>[r("div",X,[Y,r("button",{class:e.style.button,onClick:l[5]||(l[5]=()=>e.closeModal("modal2"))}," close ",2)])])),_:1},8,["modelValue","close","options"])],64)};var Z=n({setup(){const e=b({modal1:!1,modal2:!1});return{isShowModal:e,showModal:function(l){e[l]=!0},closeModal:function(l){e[l]=!1},style:T}}});const ee={class:"modal"},le=r("p",null," modal1 ",-1),oe={class:"modal"},ae=r("p",null," modal2 ",-1);Z.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 4. modal in modal ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=l=>e.showModal("modal1"))}," Show modal1 ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/4.modal.on.modal.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{modelValue:e.isShowModal.modal1,"onUpdate:modelValue":l[4]||(l[4]=l=>e.isShowModal.modal1=l),close:()=>e.closeModal("modal1")},{default:v((()=>[r("div",ee,[le,r("button",{class:e.style.button,style:{marginRight:"10px"},onClick:l[2]||(l[2]=l=>e.showModal("modal2"))}," open modal2 ",2),r("button",{class:e.style.button,onClick:l[3]||(l[3]=()=>e.closeModal("modal1"))}," close ",2)])])),_:1},8,["modelValue","close"]),r(n,{modelValue:e.isShowModal.modal2,"onUpdate:modelValue":l[6]||(l[6]=l=>e.isShowModal.modal2=l),close:()=>e.closeModal("modal2")},{default:v((()=>[r("div",oe,[ae,r("button",{class:e.style.button,onClick:l[5]||(l[5]=()=>e.closeModal("modal2"))}," close ",2)])])),_:1},8,["modelValue","close"])],64)};var te=n({setup(){const e=d(!1);return{isShow:e,showModal:function(){e.value=!0},closeModal:function(){e.value=!1},style:T}}});const se=h();p("data-v-118afcd2");const ne={class:"modal"},de=r("p",null," Hello ",-1);f();const ue=se(((e,l,o,a,t,s)=>{const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 5. custom animation ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=(...l)=>e.showModal&&e.showModal(...l))}," Show modal ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/5.custom.animation.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{modelValue:e.isShow,"onUpdate:modelValue":l[3]||(l[3]=l=>e.isShow=l),close:e.closeModal},{default:se((()=>[r("div",ne,[de,r("button",{class:e.style.button,onClick:l[2]||(l[2]=(...l)=>e.closeModal&&e.closeModal(...l))}," close ",2)])])),_:1},8,["modelValue","close"])],64)}));te.render=ue,te.__scopeId="data-v-118afcd2";var re=n({setup(){const e=b({modal1:!1,modal2:!1});return{isShowModal:e,showModal:function(l){e[l]=!0},closeModal:function(l){e[l]=!1},style:T}}});const ie={class:"modal"},ce=r("h2",{id:"heading-modal1"}," wai-aria1 ",-1),me={class:"modal"},ve=r("h2",{id:"heading-modal2"}," wai-aria2 ",-1);re.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 6. wai-aria ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=l=>e.showModal("modal1"))}," Show modal1 ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/6.wai-aria.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{id:"aria-modal1",modelValue:e.isShowModal.modal1,"onUpdate:modelValue":l[4]||(l[4]=l=>e.isShowModal.modal1=l),class:"border-8 border-white-700 focus:border-blue-700","aria-labelledby":"heading-modal1",close:()=>e.closeModal("modal1")},{default:v((()=>[r("div",ie,[ce,r("button",{class:[e.style.button,"mr-2"],onClick:l[2]||(l[2]=l=>e.showModal("modal2"))}," open modal2 ",2),r("button",{class:e.style.button,onClick:l[3]||(l[3]=()=>e.closeModal("modal1"))}," close ",2)])])),_:1},8,["modelValue","close"]),r(n,{id:"aria-modal2",modelValue:e.isShowModal.modal2,"onUpdate:modelValue":l[6]||(l[6]=l=>e.isShowModal.modal2=l),class:"border-8 border-white-700 focus:border-blue-700","aria-labelledby":"heading-modal2",close:()=>e.closeModal("modal2")},{default:v((()=>[r("div",me,[ve,r("button",{class:e.style.button,onClick:l[5]||(l[5]=()=>e.closeModal("modal2"))}," close ",2)])])),_:1},8,["modelValue","close"])],64)};var be=n({setup(){const e=d(!1);return{isShow:e,showModal:function(){e.value=!0},closeModal:function(){e.value=!1},style:T,beforeEnter:function(){console.log("before enter")},afterEnter:function(){console.log("after enter")},beforeLeave:function(){console.log("before leave")},afterLeave:function(){console.log("after leave")}}}});const he={class:"modal"},pe=r("p",null," Hello ",-1);be.render=function(e,l,o,a,t,s){const n=c("Modal");return m(),u(i,null,[r("h3",{class:e.style.h3}," 7. event (please see console) ",2),r("div",null,[r("button",{class:e.style.button,onClick:l[1]||(l[1]=(...l)=>e.showModal&&e.showModal(...l))}," Show modal ",2),r("a",{href:"https://github.com/hoiheart/vue-universal-modal/blob/master/example/7.event.vue",target:"_blank",class:[e.style.button,"ml-2"]}," Source ",2)]),r(n,{modelValue:e.isShow,"onUpdate:modelValue":l[3]||(l[3]=l=>e.isShow=l),close:e.closeModal,onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:v((()=>[r("div",he,[pe,r("button",{class:e.style.button,onClick:l[2]||(l[2]=(...l)=>e.closeModal&&e.closeModal(...l))}," close ",2)])])),_:1},8,["modelValue","close","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],64)};var fe=n({components:{Example1:B,Example2:F,Example3:H,Example4:Z,Example5:te,Example6:re,Example7:be}});const Me=r("h2",{class:"text-2xl font-bold mt-8 mb-4"}," Examples ",-1);fe.render=function(e,l,o,a,t,s){const n=c("Example1"),d=c("Example2"),v=c("Example3"),b=c("Example4"),h=c("Example5"),p=c("Example6"),f=c("Example7");return m(),u(i,null,[Me,r(n),r(d),r(v),r(b),r(h),r(p),r(f)],64)};const we=({modalRef:e,latest:l,show:o})=>{let a;function t(o){const t=o.target.closest(`.${ge}`);if(l.value&&(!t||t!==e.value)){if(t&&!t.classList.contains(`${ge}-show`))return;a=o.target}}y((()=>{document.addEventListener("click",t),w((()=>o.value),(l=>{g((()=>function(l){l?e.value&&e.value.focus():a&&a.focus()}(l)))}),{immediate:o.value})})),C((()=>{document.removeEventListener("click",t)}))};var ye=n({inheritAttrs:!1,props:{close:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!0},options:{type:Object,default:()=>({})}},emits:["before-enter","enter","after-enter","enter-cancelled","before-leave","leave","after-leave","leave-cancelled"],setup(e,l){const{teleportTarget:o}=S(Ce),{close:a,disabled:t,options:n,modelValue:u}=x(e),r=d(void 0===u.value||u.value),i=d(null),c=d(!t.value);w([()=>u.value,()=>t.value],(()=>{const e=u.value&&!t.value;c.value=e,u.value&&(r.value=u.value)}),{immediate:!0});const{latest:m}=(({modelValue:e,show:l})=>{const{visibleModals:o,addVisibleModals:a,removeVisibleModals:t}=S(Ce),{uid:s}=k()||{},n=M((()=>!(!s||!o.value.length)&&s===o.value[o.value.length-1]));return w([()=>e.value,()=>l.value],(()=>{if(!s)return;const n=e.value&&l.value;n&&o.value.indexOf(s)<0&&a(s),!n&&o.value.indexOf(s)>-1&&t(s)}),{immediate:!0}),{latest:n}})({modelValue:u,show:c}),{mergeOptions:v,onClickDimmed:b}=(({close:e,options:l,latest:o})=>{const a=s({transition:300,closeClickDimmed:!0,closeKeyCode:27,styleModalContent:{}},l.value);function t(l){l.keyCode===a.closeKeyCode&&o.value&&e.value()}return y((()=>{a.closeKeyCode&&document.addEventListener("keyup",t)})),C((()=>{a.closeKeyCode&&document.removeEventListener("keyup",t)})),{mergeOptions:a,onClickDimmed:function(){a.closeClickDimmed&&e.value()}}})({close:a,latest:m,options:n});we({latest:m,modalRef:i,show:c});const h={beforeEnter:()=>l.emit("before-enter"),enter:()=>l.emit("enter"),afterEnter:()=>l.emit("after-enter"),enterCancelled:()=>l.emit("enter-cancelled"),beforeLeave:()=>l.emit("before-leave"),leave:()=>l.emit("leave"),afterLeave:()=>{l.emit("after-leave"),!1===u.value&&(r.value=!1)},leaveCancelled:()=>l.emit("leave-cancelled")};return{CLASS_NAME:ge,emitClose:()=>{console.warn("emitClose was deprecated.\nhttps://github.com/hoiheart/vue-universal-modal#usage-modal"),a.value()},inserted:r,latest:m,mergeOptions:v,modalRef:i,onClickDimmed:b,onTransitionEmit:h,show:c,teleportTarget:o,transition:!!v.transition&&v.transition/1e3+"s"}}});ye.render=function(e,l,o,a,t,n){return e.inserted?(m(),u(L,{key:0,to:e.teleportTarget,disabled:e.disabled},[r(_,E({appear:"",name:e.CLASS_NAME},V(e.onTransitionEmit)),{default:v((()=>{var o;return[O(r("div",E({ref:"modalRef",role:"dialog",tabindex:"-1","aria-modal":"true","aria-label":"Modal window",class:[e.CLASS_NAME,{[`${e.CLASS_NAME}-show`]:e.show},{[`${e.CLASS_NAME}-latest`]:e.latest}],style:{transitionDuration:e.transition}},e.$attrs),[r("div",{class:`${e.CLASS_NAME}-content`,style:s({transitionDuration:e.transition},null==(o=e.mergeOptions)?void 0:o.styleModalContent),onClick:l[1]||(l[1]=j(((...l)=>e.onClickDimmed&&e.onClickDimmed(...l)),["self"]))},[$(e.$slots,"default",{emitClose:e.emitClose}),$(e.$slots,"close")],6)],16),[[U,e.show]])]})),_:3},16,["name"])],8,["to","disabled"])):A("",!0)};const Ce="VueUniversalModal",ge="vue-universal-modal";var Se={install:(e,l={})=>{const{teleportTarget:o="",teleportComponent:a="",teleportComponentId:t="",modalComponent:s="Modal"}=l;if(!o)return console.error("teleportTarget is required.");if(a||t)return console.error("teleportComponent, teleportComponentId was deprecated. use teleportTarget instead. (https://github.com/hoiheart/vue-universal-modal)");const n=d([]);e.provide(Ce,{teleportTarget:o,visibleModals:D(n),addVisibleModals:e=>{n.value=[...n.value,e]},removeVisibleModals:e=>{const l=[...n.value];l.splice(n.value.indexOf(e),1),n.value=[...l]}}),e.component(s,ye)}};const ke=R(fe);ke.use(Se,{teleportTarget:"#modals"}),ke.mount("#app");
